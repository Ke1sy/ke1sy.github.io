(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],u=0,d=[];u<s.length;u++)i=s[u],r[i]&&d.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);v&&v(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},i={app:0},r={app:0},o=[];function s(t){return c.p+"js/"+({404:"404",Catalog:"Catalog",Favourites:"Favourites",Posts:"Posts",Product:"Product"}[t]||t)+"."+{404:"4813ddc5",Catalog:"0e2fad12",Favourites:"7756cf43",Posts:"072887f1",Product:"d859c9d3"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={Catalog:1,Favourites:1,Posts:1,Product:1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise(function(e,n){for(var a="css/"+({404:"404",Catalog:"Catalog",Favourites:"Favourites",Posts:"Posts",Product:"Product"}[t]||t)+"."+{404:"31d6cfe0",Catalog:"7e25d43b",Favourites:"bfffc846",Posts:"0eeaf2ff",Product:"61e29163"}[t]+".css",r=c.p+a,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=o[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===r))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===a||u===r)return e()}var v=document.createElement("link");v.rel="stylesheet",v.type="text/css",v.onload=e,v.onerror=function(e){var a=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete i[t],v.parentNode.removeChild(v),n(o)},v.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(v)}).then(function(){i[t]=0}));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise(function(e,n){a=r[t]=[e,n]});e.push(a[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(t),l=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+a+": "+i+")");o.type=a,o.request=i,n[1](o)}r[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/vue-learn/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var v=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"118c":function(t,e,n){},"1f4e":function(t,e,n){},"36da":function(t,e,n){"use strict";var a=n("77a1"),i=n.n(a);i.a},"4faa":function(t,e,n){"use strict";var a=n("1f4e"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("1157"),i=n.n(a),r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("headerPart"),n("main",[n("router-view")],1),n("app-cart"),n("footer")],1)},s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-body"},[n("div",{staticClass:"cart"},[n("h3",[t._v("Корзина")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.cartLength,expression:"cartLength"}],staticClass:"cart-content"},[t._m(0),t._l(t.cartItems,function(e){return n("div",{staticClass:"cart-item"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col col-3"},[t._v(t._s(t.getFromCart(e.id).title))]),n("div",{staticClass:"col col-3"},[n("button",{staticClass:"btn btn-danger",attrs:{disabled:1===e.count},on:{click:function(n){return t.changeCount(-1,e.id)}}},[t._v("-")]),n("span",{staticClass:"amount"},[t._v(t._s(e.count))]),n("button",{staticClass:"btn btn-success",attrs:{disabled:e.count>=t.$store.getters.getById(e.id,"products").inventory},on:{click:function(n){return t.changeCount(1,e.id)}}},[t._v("+")])]),n("div",{staticClass:"col col-2"},[t._v(t._s(t._f("fixed")(t.getFromCart(e.id).price)))]),n("div",{staticClass:"col col-2"},[t._v(t._s(t._f("fixed")(e.count*t.getFromCart(e.id).price)))]),n("div",{staticClass:"col col-2"},[n("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(n){return t.deleteFromCart(e.id)}}},[t._v("\n                      Удалить\n                    ")])])])])}),n("div",{staticClass:"row head-row"},[n("div",{staticClass:"col col-3"}),n("div",{staticClass:"col col-3"}),n("div",{staticClass:"col col-2"}),n("div",{staticClass:"col col-2"},[t._v(t._s(t.totalSum))]),n("div",{staticClass:"col col-2"})]),n("br"),n("p",[t._v("Товаров в корзине: "+t._s(t.cartLength))])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.cartLength,expression:"!cartLength"}],staticClass:"cart-content"},[n("p",[t._v("В корзине нет товаров!")])])])]),t._m(1)])])])},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row head-row"},[n("div",{staticClass:"col col-3"},[t._v("Название:")]),n("div",{staticClass:"col col-3"},[t._v("Количество:")]),n("div",{staticClass:"col col-2"},[t._v("Цена:")]),n("div",{staticClass:"col col-2"},[t._v("Сумма:")]),n("div",{staticClass:"col col-2"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Закрыть")])])}],u=(n("ac6a"),{data:function(){return{cartItems:this.$store.state.inCart}},computed:{cartLength:function(){var t=this.$store.state.inCart,e=0;return t.forEach(function(t,n){e+=t.count}),e},totalSum:function(){return this.$store.getters.getTotalSum}},methods:{changeCount:function(t,e){this.$store.commit("changeInCart",{id:e,val:t})},getFromCart:function(t){return this.$store.getters.getById(t,"products")},deleteFromCart:function(t){this.$store.commit("deleteFromCart",t)}},filters:{fixed:function(t){return t.toFixed(2)}}}),d=u,v=(n("985d"),n("2877")),f=Object(v["a"])(d,c,l,!1,null,"34a0bc6e",null),p=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("div",{staticClass:"container"},[n("nav",{staticClass:"navbar navbar-expand-lg navbar-dark"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/","active-class":"active",exact:""}},[t._v("Posts")]),t._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[n("ul",{staticClass:"navbar-nav"},[n("router-link",{staticClass:"nav-item",attrs:{"active-class":"active",to:"/",tag:"li",exact:""}},[n("a",{staticClass:"nav-link"},[t._v("Home")])]),n("router-link",{staticClass:"nav-item",attrs:{"active-class":"active",to:"/posts",tag:"li",exact:""}},[n("a",{staticClass:"nav-link"},[t._v("Posts")])]),n("router-link",{staticClass:"nav-item",attrs:{"active-class":"active",to:"/catalog",tag:"li",exact:""}},[n("a",{staticClass:"nav-link"},[t._v("Catalog")])]),n("router-link",{staticClass:"nav-item",attrs:{"active-class":"active",to:"/favourites",tag:"li",exact:""}},[n("a",{staticClass:"nav-link"},[t._v("Favourites")])]),n("router-link",{staticClass:"nav-item",attrs:{"active-class":"active",to:"/subscribe",tag:"li",exact:""}},[n("a",{staticClass:"nav-link"},[t._v("Subscribe")])])],1)]),n("router-link",{staticClass:"nav-link",attrs:{to:"/favourites","active-class":"active",exact:""}},[n("span",{staticClass:"like",attrs:{title:"Liked posts"}},[n("span",{staticClass:"like-count"},[t._v(t._s(t.findFavourites.length))])])]),n("span",{attrs:{title:"Cart"},on:{click:function(e){return t.openCart()}}},[n("span",{staticClass:"cart-icon"},[n("span",{staticClass:"like-count"},[t._v(t._s(t.inCartLength))])])])],1)])])},g=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],h=n("cebc"),C=n("2f62"),b={data:function(){return{}},methods:{openCart:function(){i()("#exampleModal").modal("show")}},computed:Object(h["a"])({},Object(C["b"])(["inCartLength","findFavourites"]))},_=b,y=(n("4faa"),Object(v["a"])(_,m,g,!1,null,"d480f326",null)),k=y.exports,P={data:function(){return{}},methods:{},computed:{},components:{headerPart:k,"app-cart":p},mounted:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.$store.dispatch("getPosts")},3e3)})}},x=P,w=(n("5c0b"),Object(v["a"])(x,o,s,!1,null,null,null)),j=w.exports,F=n("8c4f"),S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("br")])}],E={name:"home",data:function(){return{}},components:{},provide:function(){return{}}},O=E,$=(n("36da"),Object(v["a"])(O,S,T,!1,null,"6ce03ae6",null)),L=$.exports;r["a"].use(F["a"]);var I=function(){return n.e("404").then(n.bind(null,"8cdb"))},M=new F["a"]({mode:"history",base:"/vue-learn/",routes:[{path:"/",name:"home",component:L},{path:"/posts",name:"posts",component:function(){return n.e("Posts").then(n.bind(null,"17c3"))}},{path:"/favourites",name:"favourites",component:function(){return n.e("Favourites").then(n.bind(null,"0e0d"))}},{path:"/subscribe",name:"subscribe",component:function(){return n.e("Favourites").then(n.bind(null,"f057"))}},{path:"/catalog/",name:"catalog",component:function(){return n.e("Catalog").then(n.bind(null,"247d"))}},{path:"/product/:id",name:"product",component:function(){return n.e("Product").then(n.bind(null,"d2f1"))}},{path:"/none",redirect:"/"},{path:"*",name:"404",component:I}]}),N=(n("c5f6"),n("7514"),n("bc3a")),B=n.n(N),A=n("a7fe"),H=n.n(A);r["a"].use(C["a"]),r["a"].use(H.a,B.a);var D="https://jsonplaceholder.typicode.com/posts",X=new C["a"].Store({state:{posts:[],removePreload:!1,inCart:[],products:[{id:1,title:"iPad 4 Mini",price:500.01,inventory:2,img:"1.jpg"},{id:2,title:"H&M T-Shirt White",price:10.99,inventory:10,img:"2.jpg"},{id:3,title:"Charli XCX - Sucker CD",price:19.99,inventory:5,img:"3.jpg"},{id:4,title:"iPad 3",price:500.01,inventory:7,img:"4.jpg"},{id:5,title:"H&M T-Shirt Red",price:10.99,inventory:6,img:"5.jpg"},{id:6,title:"Asus g546",price:19.99,inventory:12,img:"6.jpg"},{id:7,title:"iPhone 10",price:500.01,inventory:17,img:"7.jpg"},{id:8,title:"H&M T-Shirt White",price:10.99,inventory:3,img:"2.jpg"},{id:9,title:"Charli XCX - Sucker CD",price:19.99,inventory:1,img:"3.jpg"}],team:[{id:1,name:"Сидоренко Андрей",email:"sidorenko@gmail.com",phone:"+380987000999",img:"1.png"},{id:2,name:"Иваненко Владислав",email:"ivanenko@gmail.com",phone:"+380671266999",img:"2.png"},{id:3,name:"Жук Вита",email:"zhuk.svk@gmail.com",phone:"+380677722888",img:"3.png"},{id:4,name:"Смирнова Наталья",email:"smirnova.svk@gmail.com",phone:"+380661168999",img:"4.png"}]},getters:{getById:function(t){return function(e,n){return t[n].find(function(t){return t.id===e})}},findFavourites:function(t){return t.posts.filter(function(t){return t.liked})},findBySearch:function(t){return function(e){return t.posts.filter(function(t){return t.title.indexOf(e)>=0})}},getImg:function(t){return function(e){return t.products.find(function(t){return t.id===e}).img}},inCartLength:function(t){return t.inCart.length},getFromCart:function(t){return function(e){return t.inCart.find(function(t){return t.id===e})}},getTotalSum:function(t){var e=0;return t.inCart.forEach(function(n){var a=t.products.find(function(t){return t.id===n.id}).price;e+=a*n.count}),e.toFixed(2)}},mutations:{changePosts:function(t,e){for(var n=e.data,a=0;a<10;a++)n[a].liked=!1,n[a].likeCount=0,this.state.posts.push(n[a])},changePreloaderState:function(){this.state.removePreload=!0},removePost:function(t,e){var n=this.getters.getById(e.id,"posts");this.state.posts.splice(n,1)},addLike:function(t,e){var n=this.getters.getById(e,"posts");n.liked?n.likeCount--:n.likeCount++,n.liked=!n.liked},addToCart:function(t,e){t.inCart.push(e)},updateCart:function(t,e){var n=t.inCart.find(function(t){return t.id===e.id});n.count+=e.count},changeInCart:function(t,e){var n=t.inCart.find(function(t){return t.id===e.id});n.count+=e.val},deleteFromCart:function(t,e){t.inCart.forEach(function(n,a){if(n.id===e)return t.inCart.splice(a,1),!1})}},actions:{getPosts:function(){var t=this;r["a"].axios.get(D).then(function(e){t.commit({type:"changePosts",data:e.data}),t.state.removePreload=!0},function(e){console.warn(e),t.state.removePreload=!0})},addToTeam:function(t,e){var n=this;setTimeout(function(){var t=Number(n.state.team[n.state.team.length-1].id)+1,a=Object.assign({id:t},e);n.state.team.push(a)},2e3)}}});n("f0bd"),n("4989");r["a"].config.productionTip=!1,new r["a"]({router:M,store:X,render:function(t){return t(j)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),i=n.n(a);i.a},"5e27":function(t,e,n){},"77a1":function(t,e,n){},"985d":function(t,e,n){"use strict";var a=n("118c"),i=n.n(a);i.a}});
//# sourceMappingURL=app.b4a660b2.js.map